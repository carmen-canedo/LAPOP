---
title: "Exploring Tidy Data"
output: html_notebook
editor_options: 
  chunk_output_type: inline
---




##Lengthening the data set
```{r}
library(tidyverse)
library(devtools)
library(fs)

#Function for reducing columns
lengthen <- function(country) {
  country <- country %>%
  gather(column_name, answer, estratopri:formatq) %>%
  select(pais, year, unique_id, column_name, answer)
  return(country)
}


```

##Applying above functions to every country
```{r}
#Adds all the countries, in correct tidy format into a large data set

library(purrr)
countries <- list(argentina,belize, bolivia, brazil, canada, chile, colombia, costa, ecuador, elsalvador, guatemala, guyana, honduras, jamaica, mexico, nicaragua, panama, peru, suriname, usa, uruguay, venezuela)

everything <- map_df(countries, lengthen)


#Then adds a column to the merged data set that distinguishes if the question is universal or not

everything <- everything %>% mutate(common = column_name %in% all_common_col)


```




